<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Debug login scherm</title>
  </head>
  <body>
    <input type="text" id="username">
    <input type="text" id="password">
    <a id="loginbutton">Login</a>
    <form class="" action="/login/" method="POST">
      <input type="text" name="username" value="">
      <input type="text" name="password" value="">
      <input type="submit" name="submit" value="set">
    </form>
    <p id="outputdiv">

    </p>
  </body>
  <script type="text/javascript">
    button = document.getElementById('loginbutton');
    outputdiv = document.getElementById('outputdiv');

    button.onclick = function(){
      username = document.getElementById("username").value;
      password = document.getElementById('password').value;
      console.log(username + " " + password);
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
           response = this.responseText;
           outputdiv.innerHTML = response;
        }
      };

      xhttp.open("POST", "/login", true);
      xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

      postData = "password=" + password + "&" + "username=" + username;
      postData = "password=password&username=before";
      console.log(postData);

      xhttp.send(postData);
    }
  </script>
</html>
